<div *ngIf="artist$ | async as artist">
    <app-toolbar
            [title]="artist.name"
            [showSearchButton]="true"
            [showBackButton]="true"
            [image]="artist.images.horizontal.low"
            (searchChange)="filter$.next($event)"
    ></app-toolbar>

    <app-flat-card-with-image
            [title]="artist.name"
            [text]="artist.text"
            [image]="artist.images.vertical.low"
            secondaryButtonText="Visit website"
            [secondaryButtonExternalLink]="artist.website"
    ></app-flat-card-with-image>

    <div *ngIf="pieces$ | async as pieces">
        <app-piece *ngFor="let piece of pieces" [piece]="piece"></app-piece>
        <div *ngIf="pieces.length === 0 && !filter$.getValue()">
            No pieces were yet uploaded.
        </div>
        <div *ngIf="pieces.length === 0 && filter$.getValue()">
            No pieces were found with your query.
        </div>
    </div>

</div>
<div *ngIf="!(artist$ | async)">
    <app-toolbar
            title="Chargement"
            [showBackButton]="true"
    ></app-toolbar>
    <app-loading-spinner text="Chargement de l'artiste...">
    </app-loading-spinner>
</div>
