<div *ngIf="artist$ | async as artist">
    <streat-toolbar
            [title]="artist.name"
            [showSearchButton]="true"
            [showBackButton]="true"
            [image]="artist.images.horizontal.low"
            (searchChange)="search($event)"
    ></streat-toolbar>

    <streat-flat-card-with-image
            [title]="artist.name"
            [text]="artist.text"
            [image]="artist.images.vertical.low"
            secondaryButtonText="Visit website"
            [secondaryButtonExternalLink]="artist.website"
    ></streat-flat-card-with-image>

    <div *ngIf="pieces$ | async as pieces">
        <streat-piece *ngFor="let piece of pieces" [piece]="piece"></streat-piece>
        <div *ngIf="!(loading$ | async)">
            <div *ngIf="pieces.length === 0 && !filter$.getValue()">
                No pieces were yet uploaded.
            </div>
            <div *ngIf="pieces.length === 0 && filter$.getValue()">
                No pieces were found with your query.
            </div>
        </div>
    </div>

    <streat-load-more-button
            [noMoreToLoad]="noMoreToLoad$ | async"
            [disabled]="(loading$ | async) || (pieces$ | async)?.length === 0"
            (loadMore)="loadMore()"
    ></streat-load-more-button>

</div>
<div *ngIf="!(artist$ | async)">
    <streat-toolbar
            title="Chargement"
            [showBackButton]="true"
    ></streat-toolbar>
    <streat-loading-spinner text="Chargement de l'artiste...">
    </streat-loading-spinner>
</div>
